# BUGS.md – Баг-репорты по микросервису Avito API

## BUG-001 – Возможность создать несколько объявлений с одинаковыми `item_id`

**Описание:**
Сервис позволяет создавать объявления с одинаковым `item_id`, что нарушает уникальность идентификаторов и может привести к конфликтам в системе.

**Шаги для воспроизведения:**
1. Создать объявление с фиксированным `item_id`
2. Повторно создать объявление с тем же `item_id`

**Ожидаемый результат:**
HTTP 400 Bad Request с сообщением об уникальности

**Фактический результат:**
HTTP 200 OK, дубликат сохраняется

**Severity:** Critical  
**Priority:** High

---

## BUG-002 – Создание объявления с некорректным `seller_id` не вызывает ошибку

**Описание:**
При попытке создать объявление с некорректным значением поля `seller_id`, API возвращает 200 OK и сохраняет запись.

**Шаги для воспроизведения:**
1. Отправить POST-запрос на `/api/1/item`
2. Указать sellerID, price, statistics
3. Установить `seller_id` = -1

**Ожидаемый результат:**
HTTP 400 Bad Request, сообщение об ошибке валидации `seller_id`

**Фактический результат:**
HTTP 200 OK, объявление создаётся с пустым названием

**Severity:** Major  
**Priority:** High

---

## BUG-003 – Получение объявления возвращает некорректные данные

**Описание:**
При выполнении запроса на получение объявления по корректному `item_id`, в теле ответа наблюдаются следующие проблемы:

Значения полей (например, name, price, sellerID) не соответствуют ранее переданным при создании объявления.
В поле name автоматически добавляется строка 'а вот тут ошибка=)', что нарушает структуру и валидность данных.

**Шаги для воспроизведения:**
1. Отправить POST запрос на /api/1/item с корректным телом.
2. Сохранить возвращённый item_id.
3. Отправить GET запрос на /api/1/item/{item_id}.
4. Сравнить значения полей в ответе с отправленными при создании.

**Ожидаемый результат:**
HTTP 200 OK
Поля name, price, sellerID, statistics полностью соответствуют значениям, переданным при создании объявления.
В поле name не должно быть дополнительных или посторонних символов.

**Фактический результат:**
HTTP 200 OK
Значения некоторых полей искажены (например, price отличается от отправленного, name дополнен фразой 'а вот тут ошибка=)')

**Severity:** Major  
**Priority:** High

## BUG-004 – Получение объявления c несуществующим `item_id` возвращает ошибку 400 вместо 404

**Описание:**
При выполнении запроса на получение объявления по несуществующему item_id выдает другую ошибку

**Шаги для воспроизведения:**
1. Выполнить GET запрос на https://qa-internship.avito.com/api/1/item/{item_id},
где 'item_id' — заведомо несуществующий (например, 99999999).
2. Обратить внимание на возвращаемый HTTP-статус.

**Ожидаемый результат:**
HTTP 404 Not Found

**Фактический результат:**
HTTP 400 Bad Request

**Severity:** Minor
**Priority:** Low

## BUG-005 – Получение объявления по объявлению c несуществующим `item_id` возвращает ошибку 400 вместо 404

**Описание:**
При выполнении запроса на получение объявления по несуществующему item_id выдает другую ошибку

**Шаги для воспроизведения:**
1. Выполнить GET запрос на https://qa-internship.avito.com/api/1/item/{item_id},
где 'item_id' — заведомо несуществующий (например, 99999999).
2. Обратить внимание на возвращаемый HTTP-статус.

**Ожидаемый результат:**
HTTP 404 Not Found

**Фактический результат:**
HTTP 400 Bad Request

**Severity:** Minor
**Priority:** Low

## BUG-006 – Получение статистики по объявлению c несуществующим `item_id` возвращает ошибку 400 вместо 404

**Описание:**
При выполнении запроса на получение статистики по объявлению с несуществующим item_id выдает другую ошибку

**Шаги для воспроизведения:**
1. Выполнить GET запрос на https://qa-internship.avito.com//api/1/statistic/{item_id},
где 'item_id' — заведомо несуществующий.
2. Обратить внимание на возвращаемый HTTP-статус.

**Ожидаемый результат:**
HTTP 404 Not Found

**Фактический результат:**
HTTP 400 Bad Request

**Severity:** Minor
**Priority:** Low

## BUG-006 – Получение статистики по объявлению возвращает некорректные данные

**Описание:**
При выполнении запроса на получение статистики по объявлению по корректному item_id возвращаются данные, 
не соответствующие переданным при создании.

**Шаги для воспроизведения:**
1. Отправить POST запрос на /api/1/item с корректным телом.
2. Сохранить возвращённый item_id.
3. Отправить GET запрос на /api/1/statistic/{item_id}.
4. Сравнить значения полей в ответе с отправленными при создании.

**Ожидаемый результат:**
HTTP 200 OK
Поля contacts, likes, viewCount полностью соответствуют значениям, переданным при создании объявления.

**Фактический результат:**
HTTP 200 OK
Значения некоторых полей искажены.

**Severity:** Major  
**Priority:** High


## BUG-007 – Получение всех объявлений пользователя с несуществующим `seller_id`

**Описание:**
При выполнении запроса на получение всех объявлений пользователя по несуществующему `seller_id` не вызывает ошибку.

**Шаги для воспроизведения:**
1. Выполнить GET запрос на https://qa-internship.avito.com//api/1/{seller_id}/item
где 'item_id' — заведомо несуществующий.
2. Обратить внимание на возвращаемый HTTP-статус.

**Ожидаемый результат:**
HTTP 400 Bad Request

**Фактический результат:**
HTTP 200 OK

**Severity:** Major  
**Priority:** High

## BUG-008 – Получение всех объявлений пользователя с невалидным `seller_id`

**Описание:**
При выполнении запроса на получение всех объявлений пользователя по несуществующему `seller_id` не вызывает ошибку.

**Шаги для воспроизведения:**
1. Выполнить GET запрос на https://qa-internship.avito.com//api/1/{seller_id}/item
где 'item_id' не соответствует формату.
2. Обратить внимание на возвращаемый HTTP-статус.

**Ожидаемый результат:**
HTTP 400 Bad Request

**Фактический результат:**
HTTP 200 OK

**Severity:** Major  
**Priority:** High

## BUG-009 – Получение статистики по объявлению (Версия 2) возвращает некорректные данные

**Описание:**
При выполнении запроса на получение статистики по объявлению по корректному item_id возвращаются данные, 
не соответствующие переданным при создании.

**Шаги для воспроизведения:**
1. Отправить POST запрос на /api/2/item с корректным телом.
2. Сохранить возвращённый item_id.
3. Отправить GET запрос на /api/2/statistic/{item_id}.
4. Сравнить значения полей в ответе с отправленными при создании.

**Ожидаемый результат:**
HTTP 200 OK
Поля contacts, likes, viewCount полностью соответствуют значениям, переданным при создании объявления.

**Фактический результат:**
HTTP 200 OK
Значения некоторых полей искажены.

**Severity:** Major  
**Priority:** High


## BUG-010 – Получение всех объявлений пользователя (Версия 2) с несуществующим `seller_id`

**Описание:**
При выполнении запроса на получение всех объявлений пользователя по несуществующему `seller_id` не вызывает ошибку.

**Шаги для воспроизведения:**
1. Выполнить GET запрос на https://qa-internship.avito.com//api/2/{seller_id}/item
где 'item_id' — заведомо несуществующий.
2. Обратить внимание на возвращаемый HTTP-статус.

**Ожидаемый результат:**
HTTP 400 Bad Request

**Фактический результат:**
HTTP 200 OK

**Severity:** Major  
**Priority:** High

## BUG-011 – Получение всех объявлений пользователя (Версия 2) с невалидным `seller_id`

**Описание:**
При выполнении запроса на получение всех объявлений пользователя по невалидному `seller_id` не вызывает ошибку.

**Шаги для воспроизведения:**
1. Выполнить GET запрос на https://qa-internship.avito.com//api/2/{seller_id}/item
где 'item_id' — заведомо невалидный.
2. Обратить внимание на возвращаемый HTTP-статус.

**Ожидаемый результат:**
HTTP 400 Bad Request

**Фактический результат:**
HTTP 200 OK

**Severity:** Major  
**Priority:** High






